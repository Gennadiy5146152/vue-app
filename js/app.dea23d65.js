(function(){"use strict";var t={960:function(t,e,s){var a=s(7195),i=function(){var t=this,e=t._self._c;return e("div",[e("header",{staticClass:"header container"},[e("div",{staticClass:"header__wrapper"},[e("router-link",{staticClass:"header__info",attrs:{to:{name:"main"}}},[t._v("Каталог")]),t._m(0),e("a",{staticClass:"header__tel",attrs:{href:"tel:8 800 600 90 10"}},[t._v(" 8 800 600 90 10 ")]),e("router-link",{staticClass:"header__cart",attrs:{to:{name:"basketPage"},"aria-label":"Корзина с товарами"}},[e("svg",{attrs:{width:"19",height:"24"}},[e("use",{attrs:{"xlink:href":"#icon-cart"}})]),e("span",{staticClass:"header__count",attrs:{"aria-label":"Количество товаров"}},[t._v(" "+t._s(this.$store.state.basket))])])],1)]),e("router-view")],1)},r=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"header__logo",attrs:{href:"#"}},[e("img",{attrs:{src:"img/svg/logo-moire.svg",alt:"Логотип интернет магазина Moire",width:"116",height:"34"}})])}],o=s(408),l={methods:{...(0,o.nv)(["getBasket"])},mounted(){this.getBasket()}},c=l,n=s(1001),u=(0,n.Z)(c,i,r,!1,null,null,null),d=u.exports,m=s(19);a.ZP.use(o.ZP);var _=new o.ZP.Store({actions:{loadProducts(t){m.Z.get("https://vue-moire.skillbox.cc/api/products",{params:{minPrice:this.state.minPrice,maxPrice:this.state.maxPrice,materialIds:this.state.materials,seasonIds:this.state.seasons,categoryId:this.state.categories,colorIds:this.state.colorIds}}).then((e=>{const s=e.data.items;t.commit("updateProductsDataLengthParams",s)})),m.Z.get("https://vue-moire.skillbox.cc/api/products",{params:{limit:this.state.quantityGoods,page:this.state.pageGoods,minPrice:this.state.minPrice,maxPrice:this.state.maxPrice,materialIds:this.state.materials,seasonIds:this.state.seasons,categoryId:this.state.categories,colorIds:this.state.colorIds}}).then((e=>{const s=e.data.items;t.commit("updateProductsData",s)}))},loadlistMaterialData(t){m.Z.get("https://vue-moire.skillbox.cc/api/materials").then((e=>{const s=e.data.items;t.commit("updatelistMaterialData",s)}))},loadlistSeasonslData(t){m.Z.get("https://vue-moire.skillbox.cc/api/seasons").then((e=>{const s=e.data.items;t.commit("updatelistSeasonsData",s)}))},loadlistProductCategories(t){m.Z.get("https://vue-moire.skillbox.cc/api/productCategories").then((e=>{const s=e.data.items;t.commit("updateProductCategories",s)}))},getBasket(t){m.Z.get("https://vue-moire.skillbox.cc/api/baskets",{params:{userAccessKey:this.state.userAccessKey.substring(1,this.state.userAccessKey.length-1)}}).then((e=>{const s=e.data.items.length;t.commit("updateBasket",s),console.log(this.state.userAccessKey.substring(1,this.state.userAccessKey.length-1)),console.log(s)}))},loadColors(t){m.Z.get("https://vue-moire.skillbox.cc/api/colors").then((e=>{const s=e.data.items;t.commit("updateColors",s),console.log(s)}))}},mutations:{updateProductsData(t,e){t.productsData=e},updatePageGoods(t,e){t.pageGoods=e},updateProductsDataLengthParams(t,e){t.productsDataLengthParams=e.length,t.productsDataParams=e},updateMinPrice(t,e){t.minPrice=e},updateMaxPrice(t,e){t.maxPrice=e},updateMaterials(t,e){t.materials=e},updateSeasons(t,e){t.seasons=e},updateCategories(t,e){t.categories=e},updatelistMaterialData(t,e){t.listMaterialData=e},updatelistSeasonsData(t,e){t.listSeasonsData=e},updateProductCategories(t,e){t.productCategories=e},updateBasket(t,e){t.basket=e},updateProducts(t,e){t.products=e},updateColors(t,e){t.colors=e},updateColorsIds(t,e){t.colorIds=e}},state:{productsData:[],listMaterialData:[],listSeasonsData:[],productCategories:[],quantityGoods:12,pageGoods:1,productsDataLengthParams:1,productsDataParams:[],minPrice:null,maxPrice:null,materials:[],seasons:[],categories:null,basket:0,userAccessKey:localStorage.getItem("userAccessKey"),products:null,colors:null,colorIds:[]},getters:{updateProductsDataGetters:t=>t.productsData.length}}),p=s(2241),h=function(){var t=this,e=t._self._c;return e("main",{staticClass:"content container"},[t._m(0),t.preloader?e("div",{staticClass:"spinner-border",attrs:{role:"status"}},[e("span",{staticClass:"visually-hidden"},[t._v("Данные отправляются на сервер...")])]):t._e(),e("FilterMainPage"),t._m(1)],1)},v=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"content__top"},[e("div",{staticClass:"content__row"},[e("h1",{staticClass:"content__title"},[t._v(" Каталог ")]),e("span",{staticClass:"content__info"},[t._v(" 152 товара ")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"content__catalog"},[e("div",{attrs:{id:"app"}})])}],g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content__catalog"},[e("aside",{staticClass:"filter"},[e("form",{staticClass:"filter__form form",attrs:{action:"#",method:"get"}},[e("fieldset",{staticClass:"form__block"},[e("legend",{staticClass:"form__legend"},[t._v("Цена")]),e("label",{staticClass:"form__label form__label--price",attrs:{for:"form__input"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.minPrice,expression:"minPrice"}],staticClass:"form__input",attrs:{type:"text",name:"min-price",placeholder:"0"},domProps:{value:t.minPrice},on:{input:function(e){e.target.composing||(t.minPrice=e.target.value)}}}),e("span",{staticClass:"form__value"},[t._v("От")])]),e("label",{staticClass:"form__label form__label--price",attrs:{for:"form__input"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.maxPrice,expression:"maxPrice"}],staticClass:"form__input",attrs:{type:"text",name:"max-price",placeholder:"0"},domProps:{value:t.maxPrice},on:{input:function(e){e.target.composing||(t.maxPrice=e.target.value)}}}),e("span",{staticClass:"form__value"},[t._v("До")])])]),e("fieldset",{staticClass:"form__block"},[e("legend",{staticClass:"form__legend"},[t._v("Категория")]),e("label",{staticClass:"form__label form__label--select",attrs:{for:"category"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.categories,expression:"categories"}],staticClass:"form__select",attrs:{type:"text",name:"category"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.categories=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:""}},[t._v("Все товары")]),t._l(this.productCategories(),(function(s){return e("option",{key:s.id,domProps:{value:s.title}},[t._v(" "+t._s(s.title)+" ")])}))],2)])]),e("fieldset",{staticClass:"form__block"},[e("legend",{staticClass:"form__legend"},[t._v("Цвет")]),e("ul",{staticClass:"colors"},t._l(this.colors(),(function(s){return e("li",{key:s.id,staticClass:"colors__item"},[e("label",{staticClass:"colors__label",attrs:{for:s.id}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentColor,expression:"currentColor"}],staticClass:"colors__radio sr-only",attrs:{type:"radio",checked:"",id:s.id},domProps:{value:s,checked:t._q(t.currentColor,s)},on:{change:function(e){t.currentColor=s}}}),e("span",{staticClass:"colors__value",style:{"background-color":s.code}})])])})),0)]),e("fieldset",{staticClass:"form__block"},[e("legend",{staticClass:"form__legend"},[t._v("Материал")]),e("ul",{staticClass:"check-list"},t._l(this.listMaterialData(),(function(s){return e("li",{key:s.id,staticClass:"check-list__item"},[e("label",{staticClass:"check-list__label",attrs:{for:s.id}},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.checked,expression:"material.checked"}],staticClass:"check-list__check sr-only",attrs:{type:"checkbox",id:s.id},domProps:{value:s.title,checked:Array.isArray(s.checked)?t._i(s.checked,s.title)>-1:s.checked},on:{click:function(e){return t.click()},change:function(e){var a=s.checked,i=e.target,r=!!i.checked;if(Array.isArray(a)){var o=s.title,l=t._i(a,o);i.checked?l<0&&t.$set(s,"checked",a.concat([o])):l>-1&&t.$set(s,"checked",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(s,"checked",r)}}}),e("span",{staticClass:"check-list__desc"},[t._v(" "+t._s(s.title)+" "),e("span",[t._v("("+t._s(t.getAmountMaterials(s.id))+")")])])])])})),0)]),e("fieldset",{staticClass:"form__block"},[e("legend",{staticClass:"form__legend"},[t._v("Коллекция")]),e("ul",{staticClass:"check-list"},t._l(this.listSeasonsData(),(function(s){return e("li",{key:s.id,staticClass:"check-list__item"},[e("label",{staticClass:"check-list__label",attrs:{for:s.title}},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.checked,expression:"season.checked"}],staticClass:"check-list__check sr-only",attrs:{type:"checkbox",name:"collection",id:s.title},domProps:{value:s.title,checked:Array.isArray(s.checked)?t._i(s.checked,s.title)>-1:s.checked},on:{click:function(e){return t.click()},change:function(e){var a=s.checked,i=e.target,r=!!i.checked;if(Array.isArray(a)){var o=s.title,l=t._i(a,o);i.checked?l<0&&t.$set(s,"checked",a.concat([o])):l>-1&&t.$set(s,"checked",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(s,"checked",r)}}}),e("span",{staticClass:"check-list__desc"},[t._v(" "+t._s(s.title)+" "),e("span",[t._v("("+t._s(t.getAmountSeasons(s.id))+")")])])])])})),0)]),e("button",{staticClass:"filter__submit button button--primery",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.filtraition()}}},[t._v(" Применить ")]),t._v(" "+t._s(this.materials)+" "),e("button",{directives:[{name:"show",rawName:"v-show",value:null!=this.minPrice||null!=this.maxPrice||1==this.materialsClick||""!=this.categories||""!=this.currentColor,expression:"this.minPrice != null || this.maxPrice != null\n          ||  this.materialsClick == true || this.categories != '' || this.currentColor !=''"}],staticClass:"filter__reset button button--second",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.resetFiltering()}}},[t._v(" Сбросить ")])])]),e("ProductList")],1)},f=[],C=(s(7658),function(){var t=this,e=t._self._c;return e("div",[e("ul",{staticClass:"catalog__list"},t._l(this.$store.state.productsData,(function(t){return e("li",{key:t.id,staticClass:"catalog__item"},[e("ProductItem",{attrs:{product:t}})],1)})),0),e("PaginationMainPage")],1)}),y=[],b=function(){var t=this,e=t._self._c;return e("div",[e("ul",{staticClass:"catalog__pagination pagination"},[e("li",{staticClass:"pagination__item"},[e("a",{staticClass:"pagination__link pagination__link--arrow",class:{"pagination__link--disabled":t.buttonDisabledPrevious},attrs:{"aria-label":"Предыдущая страница"},on:{click:function(e){return e.preventDefault(),t.pageSwitchingArrowPrevious()}}},[e("svg",{attrs:{width:"8",height:"14",fill:"currentColor"}},[e("use",{attrs:{"xlink:href":"#icon-arrow-left"}})])])]),t._l(this.productList(),(function(s,a){return e("li",{key:a,staticClass:"pagination__item"},[e("PaginationPages",{attrs:{page:s,pageSwitching:t.pageSwitching}})],1)})),e("li",{staticClass:"pagination__item"},[e("a",{staticClass:"pagination__link pagination__link--arrow",class:{"pagination__link--disabled":t.buttonDisabledNext},attrs:{href:"#","aria-label":"Следующая страница"},on:{click:function(e){return e.preventDefault(),t.pageSwitchingArrowNext()}}},[e("svg",{attrs:{width:"8",height:"14",fill:"currentColor"}},[e("use",{attrs:{"xlink:href":"#icon-arrow-right"}})])])])],2)])},k=[],P=function(){var t=this,e=t._self._c;return e("a",{staticClass:"pagination__link",class:{"pagination__link--current":t.classActive},attrs:{id:t.page+"page"},on:{click:function(e){return e.preventDefault(),t.pageSwitching(t.page)}}},[t._v(" "+t._s(t.page)+" ")])},x=[],D={props:{page:Number,pageSwitching:Function,classActive:Boolean},data(){return{quantityPages:0,pageId:1,buttonDisabledNext:!1,buttonDisabledPrevious:!0}}},I=D,w=(0,n.Z)(I,P,x,!1,null,null,null),A=w.exports,S={data(){return{quantityPages:0,pageId:1,buttonDisabledNext:!1,buttonDisabledPrevious:!0}},computed:{...(0,o.Se)(["updateProductsDataGetters"])},methods:{productList(){return this.quantityPages=Math.ceil(this.$store.state.productsDataLengthParams/this.$store.state.quantityGoods),this.quantityPages},...(0,o.nv)(["loadProducts"]),pageSwitching(t){this.buttonDisabledPrevious=!0,this.$store.commit("updatePageGoods",t),this.loadProducts(),1===this.$store.state.pageGoods?this.buttonDisabledPrevious=!0:this.buttonDisabledPrevious=!1,this.$store.state.pageGoods===this.quantityPages?this.buttonDisabledNext=!0:this.buttonDisabledNext=!1,this.clearPagination()},clearPagination(){document.querySelector(".pagination__link--current")&&document.querySelector(".pagination__link--current").classList.remove("pagination__link--current"),document.getElementById(`${this.$store.state.pageGoods}page`).classList.add("pagination__link--current")},pageSwitchingArrowNext(){this.buttonDisabledPrevious=!1,this.$store.state.pageGoods-this.quantityPages===-1&&(this.buttonDisabledNext=!0),this.$store.commit("updatePageGoods",this.$store.state.pageGoods+1),this.loadProducts(),this.clearPagination()},pageSwitchingArrowPrevious(){this.buttonDisabledNext=!1,this.$store.state.pageGoods<=2&&(this.buttonDisabledPrevious=!0),this.$store.commit("updatePageGoods",this.$store.state.pageGoods-1),this.loadProducts(),this.clearPagination()}},components:{PaginationPages:A},mounted(){this.clearPagination()}},$=S,q=(0,n.Z)($,b,k,!1,null,null,null),M=q.exports,K=function(){var t=this,e=t._self._c;return e("div",[e("router-link",{staticClass:"catalog__pic",attrs:{to:{name:"productProperty",params:{id:this.product.id}},id:"color"+this.product.id}},[null!=this.colorCurrent.gallery?e("img",{attrs:{src:this.colorCurrent.gallery[0].file.url,alt:"Название товара"}}):t._e()]),e("h3",{staticClass:"catalog__title"},[e("a",{attrs:{href:"#"}},[t._v(" "+t._s(this.product.title)+" ")])]),e("span",{staticClass:"catalog__price"},[t._v(" "+t._s(this.product.price)+" ₽ ")]),e("ul",{staticClass:"colors colors--black"},t._l(this.product.colors,(function(s){return e("li",{key:s.id,staticClass:"colors__item"},[e("label",{staticClass:"colors__label",attrs:{for:s.id}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.colorCurrent,expression:"colorCurrent"}],staticClass:"colors__radio sr-only",attrs:{type:"radio",name:"color-1",id:s.id,checked:""},domProps:{value:s,checked:t._q(t.colorCurrent,s)},on:{change:function(e){t.colorCurrent=s}}}),e("span",{staticClass:"colors__value",style:{"background-color":s.color.code}})])])})),0)],1)},T=[],Z={props:{product:Object},data(){return{colorCurrent:this.product.colors[0],urlCurrent:null}}},G=Z,B=(0,n.Z)(G,K,T,!1,null,null,null),O=B.exports,F={data(){return{colorCurrent:null,urlCurrent:null}},name:"App",methods:{...(0,o.nv)(["loadProducts","loadlistMaterialData","loadlistSeasonslData","loadlistProductCategories","loadColors"]),async mounted(){this.loadProducts(),this.loadColors(),this.loadlistMaterialData(),this.loadlistSeasonslData(),this.loadlistProductCategories()}},created(){this.mounted()},components:{PaginationMainPage:M,ProductItem:O}},N=F,V=(0,n.Z)(N,C,y,!1,null,null,null),E=V.exports,z={data(){return{minPrice:null,maxPrice:null,materials:null,materialsClick:!1,categories:"",currentColor:"",colorsIds:[]}},methods:{...(0,o.nv)(["loadProducts","loadlistMaterialData","loadlistSeasonslData","loadColors"]),...(0,o.rn)(["productsDataParams","productCategories","listMaterialData","listSeasonsData","productCategories","colors"]),filtraition(){const t=this.listMaterialData().filter((t=>!0===t.checked)).map((t=>t.id)),e=this.listSeasonsData().filter((t=>!0===t.checked)).map((t=>t.id)),s=this.productCategories().filter((t=>t.title===this.categories)).map((t=>t.id))[0];this.$store.commit("updateMinPrice",this.minPrice),this.$store.commit("updateMaxPrice",this.maxPrice),this.$store.commit("updateMaterials",t),this.$store.commit("updateSeasons",e),this.$store.commit("updateCategories",s),this.$store.commit("updateColorsIds",this.colorsIds),this.loadProducts(),this.minPrice=null,this.maxPrice=null,this.colorsIds=null,this.loadlistMaterialData(),this.loadlistSeasonslData(),this.filterMaterial=[],this.filterSeason=[],this.filterCategory=null},resetFiltering(){this.minPrice=null,this.maxPrice=null,this.colorsIds=[],this.filterMaterial=[],this.filterSeason=[],this.filterCategory=null,this.currentColor=0===Object.keys(this.currentColor).length,console.log(this.colorsIds),this.$store.commit("updateMinPrice",this.minPrice),this.$store.commit("updateMaxPrice",this.maxPrice),this.$store.commit("updateMaxPrice",this.maxPrice),this.$store.commit("updateMaterials",this.filterMaterial),this.$store.commit("updateSeasons",this.filterSeason),this.$store.commit("updateCategories",this.filterCategory),this.$store.commit("updateColorsIds",this.colorsIds),this.loadProducts(),this.categories="",this.materialsClick=!1,void 0!==this.$route.params.id&&te.push({name:"main"})},getAmountMaterials(t){return this.productsDataParams().map((e=>e.materials.filter((e=>e.id===t)))).filter((t=>0!==t.length)).length},getAmountSeasons(t){return this.productsDataParams().map((e=>e.seasons.filter((e=>e.id===t)))).filter((t=>0!==t.length)).length},pushColorsIds(){this.colorsIds.push(this.currentColor.id)},click(){this.materialsClick=!0}},components:{ProductList:E},watch:{currentColor(){this.pushColorsIds()},listMaterialData(){this.materialsClick=!0}}},L=z,Q=(0,n.Z)(L,g,f,!1,null,null,null),j=Q.exports,U={data(){return{preloader:!1}},components:{FilterMainPage:j},methods:{getUserAccessKey(){this.preloader=!0,m.Z.get("https://vue-moire.skillbox.cc/api/users/accessKey").then((t=>{const e=t.data;localStorage.userAccessKey||localStorage.setItem("userAccessKey",JSON.stringify(e.accessKey)),this.preloader=!1}))}},created(){this.getUserAccessKey()}},R=U,J=(0,n.Z)(R,h,v,!1,null,null,null),H=J.exports,W=function(){var t=this,e=t._self._c;return e("main",{staticClass:"content container"},[t.preloader?e("div",{staticClass:"spinner-border",attrs:{role:"status"}},[e("span",{staticClass:"visually-hidden"},[t._v("Данные отправляются на сервер...")])]):t._e(),this.dataPage?e("div",[e("div",{staticClass:"content__top"},[e("ul",{staticClass:"breadcrumbs"},[e("li",{staticClass:"breadcrumbs__item"},[e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[e("span",{on:{click:function(e){return t.goToDirectoryMain()}}},[t._v("Каталог")])])],1),e("li",{staticClass:"breadcrumbs__item"},[e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"mainFilter",params:{id:this.categoriesId}}}},[e("span",{on:{click:function(e){return t.filterCat()}}},[t._v(t._s(this.categoriesTitle))])])],1),e("li",{staticClass:"breadcrumbs__item"},[e("a",{staticClass:"breadcrumbs__link"},[t._v(" "+t._s(this.dataPage.title)+" ")])])])]),e("section",{staticClass:"item"},[e("div",{staticClass:"item__pics pics"},[e("div",{staticClass:"pics__wrapper"},[e("img",{attrs:{width:"570",height:"570",src:this.urlCurrent,alt:"Название товара"}})])]),e("div",{staticClass:"item__info"},[e("span",{staticClass:"item__code"},[t._v("Артикул: "+t._s(this.dataPage.id))]),this.dataPage?e("h2",{staticClass:"item__title"},[t._v(" "+t._s(this.dataPage.title)+" ")]):t._e(),e("div",{staticClass:"item__form"},[e("form",{staticClass:"form",attrs:{action:"#",method:"POST"}},[e("div",{staticClass:"item__row item__row--center"},[e("div",{staticClass:"form__counter"},[e("button",{attrs:{type:"button","aria-label":"Убрать один товар"},on:{click:function(e){return e.preventDefault(),t.productReduction()}}},[e("svg",{attrs:{width:"12",height:"12",fill:"currentColor"}},[e("use",{attrs:{"xlink:href":"#icon-minus"}})])]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:this.quantityOfGoods,expression:"this.quantityOfGoods",modifiers:{number:!0}}],attrs:{type:"text",name:"count"},domProps:{value:this.quantityOfGoods},on:{blur:[function(e){return e.preventDefault(),t.inputQuantityProducts()},function(e){return t.$forceUpdate()}],input:[function(e){e.target.composing||t.$set(this,"quantityOfGoods",t._n(e.target.value))},function(e){return e.preventDefault(),t.inputQuantityProducts()}]}}),e("button",{attrs:{type:"button","aria-label":"Добавить один товар"},on:{click:function(e){return e.preventDefault(),t.productIncrease()}}},[e("svg",{attrs:{width:"12",height:"12",fill:"currentColor"}},[e("use",{attrs:{"xlink:href":"#icon-plus"}})])])]),e("b",{staticClass:"item__price"},[t._v(" "+t._s(this.dataPage.price)+" ₽ ")])]),this.errorMeaning?e("BaseFormField",{attrs:{error:this.errorMeaning}}):t._e(),e("div",{staticClass:"item__row"},[e("fieldset",{staticClass:"form__block"},[e("legend",{staticClass:"form__legend"},[t._v("Цвет")]),e("ul",{staticClass:"colors colors--black"},t._l(t.dataPage.colors,(function(s){return e("li",{key:s.id,staticClass:"colors__item"},[e("label",{staticClass:"colors__label",attrs:{for:s.color.code}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.colorsCurrent,expression:"colorsCurrent"}],staticClass:"colors__radio sr-only",attrs:{type:"radio",name:"color-item",id:s.color.code},domProps:{value:s.color.code,checked:t._q(t.colorsCurrent,s.color.code)},on:{change:[function(e){t.colorsCurrent=s.color.code},function(e){return t.filterUrlByImage()}]}}),e("span",{staticClass:"colors__value",style:{"background-color":s.color.code}})])])})),0)]),e("fieldset",{staticClass:"form__block"},[e("legend",{staticClass:"form__legend"},[t._v("Размер")]),e("label",{staticClass:"form__label form__label--small form__label--select",attrs:{for:"category"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.sizeProduct,expression:"sizeProduct"}],staticClass:"form__select",attrs:{type:"text",name:"category"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sizeProduct=e.target.multiple?s:s[0]}}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Выбирите размер")]),t._l(this.productsSize,(function(s,a){return e("option",{key:a,domProps:{value:s.id}},[t._v(" "+t._s(s.title))])}))],2)])])]),this.errorSize?e("BaseFormField",{attrs:{error:this.errorSize}}):t._e(),e("button",{staticClass:"item__button button button--primery",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.addingProductToCart(),t.getQuantityGoods()}}},[t._v(" В корзину ")])],1)])]),e("div",{staticClass:"item__desc"},[e("ul",{staticClass:"tabs"},[e("li",{staticClass:"tabs__item",on:{click:function(e){return e.preventDefault(),t.switchingInfo()}}},[e("a",{staticClass:"tabs__link",class:{"tabs__link--current":this.infoProduct}},[t._v(" Информация о товаре ")])]),e("li",{staticClass:"tabs__item",on:{click:function(e){return e.preventDefault(),t.switchingDelivery()}}},[e("a",{staticClass:"tabs__link",class:{"tabs__link--current":this.infoDelivery}},[t._v(" Доставка и возврат ")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:this.infoProduct,expression:"this.infoProduct"}],staticClass:"item__content"},[t._v(" "+t._s(this.textApi)+" ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:this.infoDelivery,expression:"this.infoDelivery"}],staticClass:"item__content"},[t._v(" "+t._s(this.textDeliveryApi)+" ")])])])]):t._e()])},X=[],Y=function(){var t=this,e=t._self._c;return e("label",{staticClass:"form__label",attrs:{for:t.title}},[t._t("default"),e("span",{staticClass:"form__value"},[t._v(t._s(t.title))]),t.error?e("span",{staticClass:"form__error"},[t._v(t._s(t.error))]):t._e()],2)},tt=[],et={props:["title","error"]},st=et,at=(0,n.Z)(st,Y,tt,!1,null,null,null),it=at.exports,rt={data(){return{dataPage:null,categoriesTitle:null,categoriesId:1,colorsCurrent:null,colorId:null,urlCurrent:null,quantityOfGoods:0,productsSize:null,sizeProduct:"",text:"Состав 60% хлопок 30% полиэстер Уход:Машинная стирка при макс. 30ºC короткий отжим Гладить при макс. 110ºC Не использовать машинную сушку Отбеливать запрещено Не подвергать химчистке",textApi:null,textDelivery:"Доставка курьером осуществляется по Санкт-Петербургу в пределах КАД.Стоимость доставки — 600 рублей.",textDeliveryApi:null,infoProduct:!0,infoDelivery:!1,userAccessKey:localStorage.userAccessKey,products:null,preloader:!1,errorMeaning:"",errorSize:""}},methods:{...(0,o.rn)(["productsDataParams","productCategories","basket"]),...(0,o.nv)(["loadProducts","loadlistProductCategories","getBasket"]),getPropertyProduct(){this.preloader=!0,m.Z.get("https://vue-moire.skillbox.cc/api/products").then((t=>{const e=t.data.items;this.dataPage=e.filter((t=>t.id===+this.$route.params.id))[0],this.colorsCurrent=this.dataPage.colors[0].color.code,this.preloader=!1})).then((t=>this.determiningSeasonForBreadcrumbs()))},filterUrlByImage(){this.urlCurrent=this.dataPage.colors.filter((t=>t.color.code===this.colorsCurrent))[0].gallery[0].file.url,this.colorId=this.dataPage.colors.filter((t=>t.color.code===this.colorsCurrent))[0].color.id},productIncrease(){this.quantityOfGoods+=1},productReduction(){this.quantityOfGoods>0&&(this.quantityOfGoods-=1)},inputQuantityProducts(){this.quantityOfGoods<0&&(this.quantityOfGoods=0)},determiningSeasonForBreadcrumbs(){m.Z.get(`https://vue-moire.skillbox.cc/api/products/${this.dataPage.id}`).then((t=>{const e=t.data;this.categoriesTitle=e.category.title,this.categoriesId=e.category.id,this.productsSize=e.sizes,this.productsInBasket=e,console.log(this.productsInBasket)}))},filterCat(){this.$store.commit("updatePageGoods",1),this.$store.commit("updateCategories",this.categoriesId)},addingTextInLocalStorage(){localStorage.text=this.text,localStorage.textDelivery=this.textDelivery},getInfoLocalSorage(){this.textApi=localStorage.getItem("text"),this.textDeliveryApi=localStorage.getItem("textDelivery")},goToDirectoryMain(){this.$store.commit("updatePageGoods",1)},switchingInfo(){(!1===this.infoProduct||!0===this.infoProduct)&&(this.infoProduct=!0,this.infoDelivery=!1)},switchingDelivery(){!1===this.infoDelivery?(this.infoProduct=!1,this.infoDelivery=!0):!0===this.infoDelivery&&(this.infoProduct=!0,this.infoDelivery=!1)},getQuantityGoods(){m.Z.get("https://vue-moire.skillbox.cc/api/baskets",{params:{userAccessKey:this.userAccessKey.substring(1,this.userAccessKey.length-1)}}).then((t=>{const e=t.data;this.products=e.items.length,this.getBasket()}))},addingProductToCart(){m.Z.post("https://vue-moire.skillbox.cc/api/baskets/products",{productId:this.productsInBasket.id,colorId:this.colorId,sizeId:this.sizeProduct,quantity:this.quantityOfGoods},{params:{userAccessKey:this.userAccessKey.substring(1,this.userAccessKey.length-1)}}).then((t=>{t.data;this.errorSize=""})).catch((t=>{this.errorSize=t.response.data.error.request.sizeId,this.errorMeaning=t.response.data.error.request.quantity}))}},created(){this.getPropertyProduct()},mounted(){this.getInfoLocalSorage(),this.addingTextInLocalStorage()},watch:{colorsCurrent(){null===this.urlCurrent&&this.filterUrlByImage()}},components:{BaseFormField:it}},ot=rt,lt=(0,n.Z)(ot,W,X,!1,null,null,null),ct=lt.exports,nt=function(){var t=this,e=t._self._c;return e("main",{staticClass:"content container"},[e("div",{staticClass:"content__top"},[e("ul",{staticClass:"breadcrumbs"},[e("li",{staticClass:"breadcrumbs__item"},[e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"}}},[t._v(" Каталог ")])],1),t._m(0)]),t.preloader?e("div",{staticClass:"spinner-border",attrs:{role:"status"}},[e("span",{staticClass:"visually-hidden"},[t._v("Данные отправляются на сервер...")])]):t._e(),e("div",{staticClass:"content__row"},[e("h1",{staticClass:"content__title"},[t._v(" Корзина ")]),e("span",{staticClass:"content__info"},[t._v(" "+t._s(this.$store.state.basket)+" товар ")])])]),e("section",{staticClass:"cart"},[e("form",{staticClass:"cart__form form",attrs:{action:"#",method:"POST"}},[e("div",{staticClass:"cart__field"},[e("ul",{staticClass:"cart__list"},t._l(this.products,(function(s){return e("li",{key:s.id,staticClass:"cart__item product"},[e("div",{staticClass:"product__pic"},[e("img",{attrs:{src:s.color.gallery[0].file.url,width:"120",height:"120",alt:"Название товара"}})]),e("h3",{staticClass:"product__title"},[t._v(" "+t._s(s.product.title)+" ")]),e("p",{staticClass:"product__info product__info--color"},[t._v(" Цвет: "),e("span",[e("i",{style:{"background-color":s.color.color.code}}),t._v(" "+t._s(s.color.color.title)+" ")])]),e("span",{staticClass:"product__code"},[t._v(" Артикул: "+t._s(s.product.id)+" ")]),e("div",{staticClass:"product__counter form__counter"},[e("button",{attrs:{type:"button","aria-label":"Убрать один товар"},on:{click:function(e){e.preventDefault(),t.productReduction(s),t.changeQuantityGoods(s),t.getTotalSummProducts()}}},[e("svg",{attrs:{width:"10",height:"10",fill:"currentColor"}},[e("use",{attrs:{"xlink:href":"#icon-minus"}})])]),e("input",{attrs:{type:"text",name:"count"},domProps:{value:s.quantity},on:{blur:function(e){return e.preventDefault(),t.inputQuantityProducts(s)},input:function(e){e.preventDefault(),t.inputQuantityProducts(s),t.changeQuantityGoods(s),t.getTotalSummProducts()}}}),e("button",{attrs:{type:"button","aria-label":"Добавить один товар"},on:{click:function(e){e.preventDefault(),s.quantity++,t.changeQuantityGoods(s),t.getTotalSummProducts()}}},[e("svg",{attrs:{width:"10",height:"10",fill:"currentColor"}},[e("use",{attrs:{"xlink:href":"#icon-plus"}})])])]),e("b",{staticClass:"product__price"},[t._v(" "+t._s(s.price)+" ₽ ")]),e("button",{staticClass:"product__del button-del",attrs:{type:"button","aria-label":"Удалить товар из корзины"},on:{click:function(e){return e.preventDefault(),t.deleteProducts(s)}}},[e("svg",{attrs:{width:"20",height:"20",fill:"currentColor"}},[e("use",{attrs:{"xlink:href":"#icon-close"}})])])])})),0)]),e("div",{staticClass:"cart__block"},[e("p",{staticClass:"cart__desc"},[t._v(" Мы посчитаем стоимость доставки на следующем этапе ")]),e("p",{staticClass:"cart__price"},[t._v(" Итого: "),e("span",[t._v(t._s(this.summ)+" ₽")])]),e("router-link",{staticClass:"cart__button button button--primery",attrs:{to:{name:"ClearanceGoods"},tag:"button",type:"submit"}},[t._v(" Оформить заказ ")])],1)])])])},ut=[function(){var t=this,e=t._self._c;return e("li",{staticClass:"breadcrumbs__item"},[e("a",{staticClass:"breadcrumbs__link"},[t._v(" Корзина ")])])}],dt={data(){return{userAccessKey:localStorage.getItem("userAccessKey"),products:null,summ:0,preloader:!1}},methods:{...(0,o.rn)(["basket"]),...(0,o.nv)(["getBasket"]),getTotalSummProducts(){this.summ=this.products.map((t=>t.price*t.quantity)).reduce(((t,e)=>t+e))},getBasketApi(){this.preloader=!0,m.Z.get("https://vue-moire.skillbox.cc/api/baskets",{params:{userAccessKey:this.userAccessKey.substring(1,this.userAccessKey.length-1)}}).then((t=>{const e=t.data;this.products=e.items,this.preloader=!1,0!==this.products.length?this.summ=this.products.map((t=>t.price*t.quantity)).reduce(((t,e)=>t+e)):this.summ=0}))},changeQuantityGoods(t){m.Z.put("https://vue-moire.skillbox.cc/api/baskets/products",{basketItemId:t.id,quantity:t.quantity},{params:{userAccessKey:this.userAccessKey.substring(1,this.userAccessKey.length-1)}})},deleteProducts(t){m.Z["delete"]("https://vue-moire.skillbox.cc/api/baskets/products",{params:{userAccessKey:this.userAccessKey.substring(1,this.userAccessKey.length-1)},data:{basketItemId:t.id}}).then((()=>{this.getBasketApi(),this.getBasket()}))},productIncrease(){this.quantityOfGoods+=1},productReduction(t){t.quantity>0&&(t.quantity-=1)},inputQuantityProducts(t){console.log(t.quantity),console.log(t.quantity),t.quantity<0&&(t.quantity=0,console.log("1"))}},created(){},mounted(){this.getBasketApi()}},mt=dt,_t=(0,n.Z)(mt,nt,ut,!1,null,null,null),pt=_t.exports,ht=function(){var t=this,e=t._self._c;return e("main",{staticClass:"content container"},[t.preloader?e("div",{staticClass:"spinner-border",attrs:{role:"status"}},[e("span",{staticClass:"visually-hidden"},[t._v("Данные отправляются на сервер...")])]):t._e(),this.products?e("div",[e("div",{staticClass:"content__top"},[e("ul",{staticClass:"breadcrumbs"},[e("li",{staticClass:"breadcrumbs__item"},[e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"},href:"index.html"}},[t._v(" Каталог ")])],1),e("li",{staticClass:"breadcrumbs__item"},[e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"basketPage"},href:"cart.html"}},[t._v(" Корзина ")])],1),t._m(0)]),t._m(1)]),e("section",{staticClass:"cart"},[e("form",{staticClass:"cart__form form",attrs:{action:"#",method:"POST"}},[e("div",{staticClass:"cart__field"},[e("div",{staticClass:"cart__data"},[e("BaseFormText",{attrs:{title:"ФИО",error:t.formError.name,placeholder:"Введите ваше полное имя"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}}),e("BaseFormText",{attrs:{title:"Адрес доставки",error:t.formError.address,placeholder:"Введите ваш адрес"},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}}),e("BaseFormText",{attrs:{title:"Телефон",error:t.formError.phone,placeholder:"Введите ваш телефон"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}}),e("BaseFormText",{attrs:{title:"Email",error:t.formError.email,placeholder:"Введи ваш Email"},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}}),e("BaseFormTextarea",{attrs:{error:t.formError.comments,title:"Комментарий к заказу",placeholder:"Ваши пожелания"},model:{value:t.formData.comments,callback:function(e){t.$set(t.formData,"comments",e)},expression:"formData.comments"}})],1),e("div",{staticClass:"cart__options"},[e("h3",{staticClass:"cart__title"},[t._v("Доставка")]),e("ul",{staticClass:"cart__options options"},t._l(this.methodsDelivery,(function(s){return e("li",{key:s.id,staticClass:"options__item"},[e("DeliveryComp",{attrs:{title:s.title,id:s.id,price:s.price},model:{value:t.deliveryTypeId,callback:function(e){t.deliveryTypeId=e},expression:"deliveryTypeId"}})],1)})),0),e("h3",{staticClass:"cart__title"},[t._v("Оплата")]),e("ul",{staticClass:"cart__options options"},t._l(this.methodPay,(function(s){return e("li",{key:s.id,staticClass:"options__item"},[e("MethodPay",{attrs:{id:s.id,title:s.title},model:{value:t.paymentTypeId,callback:function(e){t.paymentTypeId=e},expression:"paymentTypeId"}})],1)})),0)])]),e("div",{staticClass:"cart__block"},[e("ul",{staticClass:"cart__orders"},t._l(t.products,(function(s){return e("li",{key:s.id,staticClass:"cart__order"},[e("h3",[t._v(t._s(s.product.title))]),e("b",[t._v(t._s(s.price)+" ₽")]),e("span",[t._v("Артикул: "+t._s(s.product.id))])])})),0),e("div",{staticClass:"cart__total"},[t._m(2),e("p",[t._v("Итого: "),e("b",[t._v(t._s(this.products.length))]),t._v(" товара на сумму "),e("b",[t._v(t._s(this.summ+ +this.priceDelivery)+" ₽")])])]),e("button",{staticClass:"cart__button button button--primery",on:{click:function(e){return e.preventDefault(),t.formValidation()}}},[t._v(" Оформить заказ ")])]),0!==Object.keys(this.formError).length?e("div",{staticClass:"cart__error form__error-block"},[e("h4",[t._v("Заявка не отправлена!")]),e("p",[t._v(" Похоже произошла ошибка. Попробуйте отправить снова или перезагрузите страницу. ")])]):t._e()])])]):t._e()])},vt=[function(){var t=this,e=t._self._c;return e("li",{staticClass:"breadcrumbs__item"},[e("a",{staticClass:"breadcrumbs__link"},[t._v(" Оформление заказа ")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"content__row"},[e("h1",{staticClass:"content__title"},[t._v(" Оформление заказа ")])])},function(){var t=this,e=t._self._c;return e("p",[t._v("Доставка: "),e("b",[t._v("бесплатно")])])}],gt=function(){var t=this,e=t._self._c;return e("BaseFormField",{attrs:{title:t.title,error:t.error}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input",attrs:{type:"text",name:t.title,placeholder:t.placeholder},domProps:{value:t.dataValue},on:{input:function(e){e.target.composing||(t.dataValue=e.target.value)}}})])},ft=[],Ct={props:["title","error","placeholder","value"],components:{BaseFormField:it},computed:{dataValue:{get(){return this.value},set(t){this.$emit("input",t)}}}},yt={mixins:[Ct]},bt=yt,kt=(0,n.Z)(bt,gt,ft,!1,null,null,null),Pt=kt.exports,xt=function(){var t=this,e=t._self._c;return e("BaseFormField",{attrs:{title:t.title,error:t.error}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"form__input form__input--area",attrs:{name:"comments",placeholder:t.placeholder},domProps:{value:t.dataValue},on:{input:function(e){e.target.composing||(t.dataValue=e.target.value)}}})])},Dt=[],It={mixins:[Ct]},wt=It,At=(0,n.Z)(wt,xt,Dt,!1,null,null,null),St=At.exports,$t=function(){var t=this,e=t._self._c;return e("label",{staticClass:"options__label",attrs:{for:t.id}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"options__radio sr-only",attrs:{type:"radio",name:"delivery",id:t.id},domProps:{value:t.id,checked:t._q(t.dataValue,t.id)},on:{change:function(e){t.dataValue=t.id}}}),e("span",{staticClass:"options__value"},[t._v(" "+t._s(t.title)+" "),e("b",[t._v(t._s(t.price))])])])},qt=[],Mt={props:["id","title","price","value"],computed:{dataValue:{get(){return this.value},set(t){this.$emit("input",t)}}}},Kt=Mt,Tt=(0,n.Z)(Kt,$t,qt,!1,null,null,null),Zt=Tt.exports,Gt=function(){var t=this,e=t._self._c;return e("label",{staticClass:"options__label",attrs:{for:t.title}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataValue,expression:"dataValue"}],staticClass:"options__radio sr-only",attrs:{type:"radio",name:"pay",id:t.title},domProps:{value:t.id,checked:t._q(t.dataValue,t.id)},on:{change:function(e){t.dataValue=t.id}}}),e("span",{staticClass:"options__value"},[t._v(" "+t._s(t.title)+" ")])])},Bt=[],Ot={props:["id","title","price","value"],computed:{dataValue:{get(){return this.value},set(t){this.$emit("input",t)}}}},Ft=Ot,Nt=(0,n.Z)(Ft,Gt,Bt,!1,null,null,null),Vt=Nt.exports,Et={data(){return{formData:{},formError:{},methodsDelivery:null,methodPay:null,deliveryTypeId:null,paymentTypeId:null,summ:null,products:null,userAccessKey:localStorage.getItem("userAccessKey"),priceDelivery:0,preloader:!1}},components:{BaseFormText:Pt,BaseFormTextarea:St,DeliveryComp:Zt,MethodPay:Vt},methods:{getMethodsDelivery(){m.Z.get("https://vue-moire.skillbox.cc/api/deliveries").then((t=>{const e=t.data;this.methodsDelivery=e}))},getMethodPay(){m.Z.get("https://vue-moire.skillbox.cc/api/payments",{params:{deliveryTypeId:this.deliveryTypeId}}).then((t=>{const e=t;this.methodPay=e.data}))},getBasket(){this.preloader=!0,m.Z.get("https://vue-moire.skillbox.cc/api/baskets",{params:{userAccessKey:this.userAccessKey.substring(1,this.userAccessKey.length-1)}}).then((t=>{const e=t.data;this.products=e.items,console.log(e),0!==this.products.length?this.summ=this.products.map((t=>t.price*t.quantity)).reduce(((t,e)=>t+e)):this.summ=0,this.preloader=!1}))},formValidation(){Object.keys(this.formError).forEach((t=>delete this.formError[t])),m.Z.post("https://vue-moire.skillbox.cc/api/orders",{name:this.formData.name,address:this.formData.address,phone:this.formData.phone,email:this.formData.email,deliveryTypeId:this.deliveryTypeId,paymentTypeId:this.paymentTypeId,comment:this.formData.comments},{params:{userAccessKey:this.userAccessKey.substring(1,this.userAccessKey.length-1)}}).then((t=>{console.log(t.data.id);const e=t.data.id;this.$store.commit("updateProducts",e),0===Object.keys(this.formError).length&&this.$router.push("OrderInfoPage")})).catch((t=>{this.formError=t.response.data.error.request}))},priceForDelivery(){this.priceDelivery=this.methodsDelivery.filter((t=>t.id===this.deliveryTypeId))[0].price}},created(){this.getMethodsDelivery()},mounted(){this.getBasket()},watch:{deliveryTypeId(){this.getMethodPay(),this.priceForDelivery()}}},zt=Et,Lt=(0,n.Z)(zt,ht,vt,!1,null,null,null),Qt=Lt.exports,jt=function(){var t=this,e=t._self._c;return e("main",{staticClass:"content container"},[t.preloader?e("div",{staticClass:"spinner-border",attrs:{role:"status"}},[e("span",{staticClass:"visually-hidden"},[t._v("Данные отправляются на сервер...")])]):t._e(),t.preloader?e("div",[e("span",[t._v("Упс...корзина пуста")])]):t._e(),this.orderInfo?e("div",[e("div",{staticClass:"content__top"},[e("ul",{staticClass:"breadcrumbs"},[e("li",{staticClass:"breadcrumbs__item"},[e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"main"},href:"index.html"}},[t._v(" Каталог ")])],1),e("li",{staticClass:"breadcrumbs__item"},[e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:{name:"basketPage"},href:"cart.html"}},[t._v(" Корзина ")])],1),t._m(0)]),e("h1",{staticClass:"content__title"},[t._v(" Заказ оформлен "),e("span",[t._v("№ "+t._s(this.orderInfo.id))])])]),e("section",{staticClass:"cart"},[e("form",{staticClass:"cart__form form",attrs:{action:"#",method:"POST"}},[e("div",{staticClass:"cart__field"},[e("p",{staticClass:"cart__message"},[t._v(" Благодарим за выбор нашего магазина. На Вашу почту придет письмо с деталями заказа. Наши менеджеры свяжутся с Вами в течение часа для уточнения деталей доставки. ")]),e("ul",{staticClass:"dictionary"},[e("li",{staticClass:"dictionary__item"},[e("span",{staticClass:"dictionary__key"},[t._v(" Получатель ")]),e("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(this.orderInfo.name)+" ")])]),e("li",{staticClass:"dictionary__item"},[e("span",{staticClass:"dictionary__key"},[t._v(" Адрес доставки ")]),e("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(this.orderInfo.address)+" ")])]),e("li",{staticClass:"dictionary__item"},[e("span",{staticClass:"dictionary__key"},[t._v(" Телефон ")]),e("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(this.orderInfo.phone)+" ")])]),e("li",{staticClass:"dictionary__item"},[e("span",{staticClass:"dictionary__key"},[t._v(" Email ")]),e("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(this.orderInfo.email)+" ")])]),e("li",{staticClass:"dictionary__item"},[e("span",{staticClass:"dictionary__key"},[t._v(" Способ оплаты ")]),e("span",{staticClass:"dictionary__value"},[t._v(" "+t._s(this.orderInfo.paymentType)+" ")])])])]),e("div",{staticClass:"cart__block"},[e("ul",{staticClass:"cart__orders"},t._l(this.orderInfo.basket.items,(function(s){return e("li",{key:s.id,staticClass:"cart__order"},[e("h3",[t._v(t._s(s.product.title))]),e("b",[t._v(t._s(s.price*s.quantity)+" ₽")]),e("span",[t._v("Артикул: "+t._s(s.id))])])})),0),e("div",{staticClass:"cart__total"},[e("p",[t._v("Доставка: "),e("b",[t._v(t._s(this.orderInfo.deliveryType.title))])]),e("p",[t._v("Итого: "),e("b",[t._v(t._s(this.orderInfo.basket.items.length))]),t._v(" товара на сумму "),e("b",[t._v(t._s(this.orderInfo.totalPrice)+" ₽")])])])])])])]):t._e()])},Ut=[function(){var t=this,e=t._self._c;return e("li",{staticClass:"breadcrumbs__item"},[e("a",{staticClass:"breadcrumbs__link"},[t._v(" Оформление заказа ")])])}],Rt={data(){return{orderId:this.$store.state.products,orderInfo:null,userAccessKey:localStorage.getItem("userAccessKey"),preloader:!1}},methods:{getOrderInfo(){this.preloader=!0,m.Z.get(`https://vue-moire.skillbox.cc/api/orders/${this.$store.state.products}`,{params:{userAccessKey:this.userAccessKey.substring(1,this.userAccessKey.length-1),orderId:this.$store.state.products}}).then((t=>{this.orderInfo=t.data,this.preloader=!1}))},...(0,o.nv)(["getBasket"])},created(){this.getOrderInfo(),this.getBasket()}},Jt=Rt,Ht=(0,n.Z)(Jt,jt,Ut,!1,null,null,null),Wt=Ht.exports;a.ZP.use(p.ZP);const Xt=[{name:"main",component:H,path:"/"},{name:"productProperty",component:ct,path:"/productProperty/:id"},{name:"mainFilter",component:H,path:"/categories/:id"},{name:"basketPage",component:pt,path:"/basket/"},{name:"ClearanceGoods",component:Qt,path:"/ClearanceGoods/"},{name:"OrderInfoPage",component:Wt,path:"/OrderInfoPage/"}],Yt=new p.ZP({routes:Xt});var te=Yt;a.ZP.config.productionTip=!1,new a.ZP({store:_,router:te,render:t=>t(d)}).$mount("#app")}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var r=e[a]={exports:{}};return t[a](r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,a,i,r){if(!a){var o=1/0;for(u=0;u<t.length;u++){a=t[u][0],i=t[u][1],r=t[u][2];for(var l=!0,c=0;c<a.length;c++)(!1&r||o>=r)&&Object.keys(s.O).every((function(t){return s.O[t](a[c])}))?a.splice(c--,1):(l=!1,r<o&&(o=r));if(l){t.splice(u--,1);var n=i();void 0!==n&&(e=n)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[a,i,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,r,o=a[0],l=a[1],c=a[2],n=0;if(o.some((function(e){return 0!==t[e]}))){for(i in l)s.o(l,i)&&(s.m[i]=l[i]);if(c)var u=c(s)}for(e&&e(a);n<o.length;n++)r=o[n],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(u)},a=self["webpackChunkgraduate"]=self["webpackChunkgraduate"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(960)}));a=s.O(a)})();
//# sourceMappingURL=app.dea23d65.js.map